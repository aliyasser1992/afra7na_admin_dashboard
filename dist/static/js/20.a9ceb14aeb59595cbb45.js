webpackJsonp([20],{"6OKV":function(t,e){},mXlA:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{headers:[{text:"#",value:"id",align:!0,sortable:!0},{text:"اسم المعلن",value:"name",align:"right",sortable:!0},{text:"التصنيف",value:"category.title_ar",align:"right",sortable:!0},{text:"المنطقة",value:"region.title_ar",align:"right",sortable:!0},{text:"له اكثر من تصنيف",value:"all_categories",align:"right",sortable:!0},{text:"له اكثر من منطقة",value:"all_regions",align:"right",sortable:!0},{text:"البريد الالكتروني",value:"email",align:"right",sortable:!0},{text:"رقم الجوال",value:"phone",align:"right",sortable:!0},{text:"الموقع الالكتروني",value:"email",align:"right",sortable:!0},{text:"التعديل",value:"id"},{text:"الحذف",value:"id"}],advertisers:[],isLoading:!1,pagination:{},totalItems:0}},mounted:function(){this.fetchAdvertisers()},watch:{pagination:function(t,e){t.page!==e.page&&this.fetchAdvertisers(t.page)}},methods:{fetchAdvertisers:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.$http.get("admin/advertising/advertisers",{params:{page:e}}).then(function(e){t.advertisers=e.data.data,t.pagination={page:e.data.current_page,rowsPerPage:e.data.per_page},t.totalItems=e.data.total}).catch(function(t){console.log(t)}).finally(function(){t.isLoading=!1})},removeAdvertiser:function(t){var e=this;confirm("هل تود حقا حذف المعلن")&&this.$http.delete("admin/advertising/advertisers/"+t).then(function(t){e.$swal.fire({text:"تم الحذف بنجاح",toast:!0,icon:"success"}),e.fetchAdvertisers(e.pagination.page)}).catch(function(t){console.log(t)})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-toolbar",[a("v-toolbar-title",[a("v-icon",[t._v("credit_card")]),t._v(" المعلنين")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{append:"",to:"/advertisers/add",color:"primary"}},[a("v-icon",[t._v("add")]),t._v(" "),a("span",[t._v("إضافة معلن")])],1)],1),t._v(" "),a("v-card",[a("v-data-table",{attrs:{headers:t.headers,items:t.advertisers,loading:t.isLoading,"no-results-text":"لا يوجد نتائج",pagination:t.pagination,"total-items":t.totalItems},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v("\n          "+t._s(e.item.category?e.item.category.title_ar:"الجميع")+"\n        ")]),t._v(" "),a("td",[t._v("\n          "+t._s(e.item.region?e.item.region.title_ar:"الجميع")+"\n        ")]),t._v(" "),a("td",[t._v(t._s(e.item.all_categories?"نعم":"لا"))]),t._v(" "),a("td",[t._v(t._s(e.item.all_regions?"نعم":"لا"))]),t._v(" "),a("td",[t._v(t._s(e.item.email||"لا يوجد"))]),t._v(" "),a("td",[t._v(t._s(e.item.phone||"لا يوجد"))]),t._v(" "),a("td",[t._v(t._s(e.item.website||"لا يوجد"))]),t._v(" "),a("td",[a("v-btn",{attrs:{color:"yellow black--text",small:"",circle:"",icon:!0,append:!0,to:"/advertisers/"+e.item.id+"/edit"}},[a("v-icon",[t._v("edit")])],1)],1),t._v(" "),a("td",[a("v-btn",{attrs:{color:"red white--text",small:"",circle:"",icon:!0},on:{click:function(a){t.removeAdvertiser(e.item.id)}}},[a("v-icon",[t._v("delete")])],1)],1)]}},{key:"pageText",fn:function(e){return[t._v("\n        إظهار النتائج من "+t._s(e.pageStart)+" الي "+t._s(e.pageStop)+" العدد\n        الكلي "+t._s(e.itemsLength)+"\n      ")]}}])})],1)],1)},staticRenderFns:[]};var r=a("VU/8")(i,n,!1,function(t){a("6OKV")},null,null);e.default=r.exports}});