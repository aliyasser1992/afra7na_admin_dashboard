webpackJsonp([21],{U9lG:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{disks:[{name:"جوجل درايف",disk:"google"},{name:"المخزن المحلي",disk:"backup"}],headers:[{text:"اسم الملف",value:"name"},{text:"حجم الملف",value:"size"},{text:"اخر تاريخ للتعديل",value:"last_date_modified",sortable:!0},{text:"رابط التحميل",value:"url"}],items:[],is_loading_items:!1,backup_btn_title:" انشاء نسخة احتياطية ",is_backup_btn_disabled:!1,active_disk:"google"}},methods:{getBackupItems:function(){var t=this;this.is_loading_items=!0,this.$http.post("admin/backup/files",{disk:this.active_disk}).then(function(e){t.items=e.data}).catch(function(t){console.log(t)}).finally(function(){t.is_loading_items=!1})},createBackup:function(){var t=this;this.backup_btn_title="جاري انشاء نسخة احتياطية",this.is_backup_btn_disabled=!0,this.$http.post("admin/backup/create").then(function(e){t.getBackupItems()}).catch(function(t){console.log(t)}).finally(function(){t.backup_btn_title="انشاء نسخة احتياطية",t.is_backup_btn_disabled=!1})},toggleCurrentDisk:function(t){this.active_disk=t,this.getBackupItems()}},mounted:function(){this.getBackupItems()}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-toolbar",[i("v-toolbar-title",[t._v("النسخ الاحتياطية "),i("v-icon",{attrs:{color:"primary"}},[t._v("backup")])],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"info",disabled:t.is_backup_btn_disabled},on:{click:t.createBackup}},[i("v-icon",{attrs:{right:""}},[t._v("backup")]),t._v("\n      "+t._s(t.backup_btn_title)+"\n    ")],1)],1),t._v(" "),i("v-tabs",{attrs:{color:"cyan",dark:"","slider-color":"red"}},t._l(t.disks,function(e,a){return i("v-tab",{key:a,on:{click:function(i){t.toggleCurrentDisk(e.disk)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),t._v(" "),i("v-data-table",{attrs:{headers:t.headers,items:t.items,"rows-per-page-items":[25,50,100],loading:t.is_loading_items},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",[t._v(t._s(e.item.name))]),t._v(" "),i("td",[t._v(t._s(e.item.size)+" ميجابايت")]),t._v(" "),i("td",[t._v(t._s(new Date(e.item.last_date_modified).toLocaleString("ar-eg")))]),t._v(" "),i("td",[i("a",{attrs:{href:e.item.url}},[t._v("تحميل")])])]}}])})],1)},staticRenderFns:[]};var s=i("VU/8")(a,n,!1,function(t){i("nRFu")},null,null);e.default=s.exports},nRFu:function(t,e){}});