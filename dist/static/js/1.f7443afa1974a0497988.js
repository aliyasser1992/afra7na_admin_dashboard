webpackJsonp([1],{"9bBU":function(t,e,i){i("mClu");var a=i("FeBl").Object;t.exports=function(t,e,i){return a.defineProperty(t,e,i)}},C4MV:function(t,e,i){t.exports={default:i("9bBU"),__esModule:!0}},bOdI:function(t,e,i){"use strict";e.__esModule=!0;var a,n=i("C4MV"),s=(a=n)&&a.__esModule?a:{default:a};e.default=function(t,e,i){return e in t?(0,s.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},"bk/q":function(t,e){},kd6u:function(t,e){},mClu:function(t,e,i){var a=i("kM2E");a(a.S+a.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},zgAr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("d7EF"),n=i.n(a),s=i("woOf"),l=i.n(s),r=i("//Fk"),o=i.n(r),d=i("bOdI"),c=i.n(d),u={props:{title:{default:"",type:String},icon:{default:"",type:String}},data:function(){return{selected:[],selectedItem:null,dialog:!1,addEditDialog:!1,edit:!1,deleting:!1,CountProductDialog:!1,dateFormatted:null,date:null,picker:null,landscape:!1,paginationDialog:!1,end_date:null,optionsDialog:!1,requests:[],productNumbers:10,media:[],totalRequests:0,pagination:{},errors:[],search:"",loading:!1,specializing:!1,approve:!1,disapprove:!1,pageItem:c()({id:null,title_ar:null,title_en:null,description_ar:null},"description_ar",null),headers:[{text:"العنوان بالعربية",align:"right",value:"country",sortable:!1},{text:"العنوان بالانجليزية",align:"right",value:"country",sortable:!1},{text:"الوصف بالعربية",align:"right",value:"link",sortable:!1},{text:"الوصف بالإنجليزية",align:"right",value:"image",sortable:!1},{text:"عمليات",align:"right",value:"actions",sortable:!1}],alert:{message:"",type:"success"},page:1,filterCategory:null,categories:[],searchCategories:[],addEditCategories:[],index:null}},computed:{formTitle:function(){return this.edit?"تعديل الصفحة":"إضافة الصفحة"},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}},watch:{addEditDialog:function(t){t||(this.ad={id:null,title_ar:null,title_en:null,description_ar:null,description_en:null}),t||this.close()},dialog:function(t){t||this.close()},pagination:{handler:function(){var t=this;this.page=this.pagination.page,this.loading||this.getDataFromApi().then(function(e){t.requests=e.items,t.totalRequests=e.total})},deep:!0},filterCategory:function(t){var e=this;this.getDataFromApi().then(function(t){e.requests=t.items,e.totalRequests=t.total})},filterCountry:function(t){var e=this;this.getDataFromApi().then(function(t){e.requests=t.items,e.totalRequests=t.total})},optionsDialog:function(t){0==t&&(this.selectedItem=null,this.date=null,this.end_date=null,this.discrimint[0].value=!1)}},created:function(){var t=this;this.getDataFromApi().then(function(e){t.requests=e.items,t.totalRequests=e.total})},methods:{getDataFromApi:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.loading=!0,new o.a(function(i,a){var n=t.pagination,s=(n.sortBy,n.descending,n.page);n.rowsPerPage;if(null!=e){var l=e.data.data,r=e.data.total;t.pagination.rowsPerPage=e.data.per_page,t.pagination.totalItems=e.data.total,setTimeout(function(){t.loading=!1},300),i({items:l,total:r})}else{var o=null!=t.filterCategory?"admin/ads?ads_category_id="+t.filterCategory+"&page="+s:"admin/pages?page="+s;t.$http.get(o).then(function(e){var a=e.data.data,n=e.data.total;t.pagination.rowsPerPage=e.data.per_page,t.pagination.totalItems=e.data.total,setTimeout(function(){t.loading=!1},300),i({items:a,total:n})})}})},selectImage:function(){document.getElementById("image_choose").click()},imageChanged:function(){var t=this;if($("#image_choose")[0].files&&$("#image_choose")[0].files[0]){var e=new FileReader;e.addEventListener("load",function(e){$("#avatar").attr("src",e.target.result),t.editedItem.image=e.target.result}),e.readAsDataURL($("#image_choose")[0].files[0])}},editItem:function(t){this.editedIndex=this.requests.indexOf(t),this.editedItem=l()({},t),this.dialog=!0},deleteItem:function(t){var e=this;this.deleting=!0;var i=this.requests.indexOf(t);confirm("هل تريد مسح الصفحة؟")?this.$http.delete("admin/flash-ads/"+t.id).then(function(t){e.requests.splice(i,1),e.alert.message="تم مسح الصفحة!",e.alert.type="success",e.deleting=!1}):this.deleting=!1},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=l()({},t.defaultItem),t.editedIndex=-1},300)},closeAddEditDialog:function(){this.addEditDialog=!1,this.pageItem={id:null,title_ar:null,title_en:null,description_ar:null,description_en:null}},editing:function(t){this.errors=[],this.addEditDialog=!this.addEditDialog,this.edit=!0,this.pageItem.id=t.id,this.pageItem.title_ar=t.title_ar,this.pageItem.title_en=t.title_en,this.pageItem.description_ar=t.description_ar,this.pageItem.description_en=t.description_en,this.index=this.requests.indexOf(t)},save:function(){var t=this,e=this.index,i=new FormData,a={};this.pageItem.title_ar&&i.append("title_ar",this.pageItem.title_ar),a.title_ar=this.pageItem.title_ar,this.pageItem.title_en&&i.append("title_en",this.pageItem.title_en),a.title_en=this.pageItem.title_en,this.pageItem.description_ar&&i.append("description_ar",this.pageItem.description_ar),a.description_ar=this.pageItem.description_ar,this.pageItem.description_ar&&i.append("description_en",this.pageItem.description_en),a.description_en=this.pageItem.description_en;var n=this.edit?"admin/pages/"+this.pageItem.id:"admin/pages";this.$http.put(n,a).then(function(i){t.$set(t.requests,e,a),t.alert.type="warning",t.alert.message=t.edit?"تم تعديل الصفحة":"تم حفظ الصفحة",t.close(),t.errors=[],t.ad={id:null,title_ar:null,title_en:null,description_ar:null,description_en:null},setTimeout(function(){t.addEditDialog=!1},300),t.edit=!1,t.getDataFromApi().then(function(e){t.requests=e.items,t.totalRequests=e.total})}).catch(function(e){var i=e.response;t.errors=i.data.error,setTimeout(function(){t.ad={id:null,title_ar:null,title_en:null,link:null}},5e3)})},parseDate:function(t){if(!t)return null;var e=t.split("/"),i=n()(e,3),a=i[0],s=i[1];return i[2]+"-"+a.padStart(2,"0")+"-"+s.padStart(2,"0")}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("vuetify-alert",{attrs:{message:t.alert.message,type:t.alert.type},on:{message:function(e){t.alert.message=""}}}),t._v(" "),i("v-toolbar",{attrs:{flat:"",color:"white"}},[i("v-toolbar-title",{},[i("v-icon",{attrs:{medium:""}},[t._v(t._s(t.icon))]),t._v(" "+t._s(t.title)+"\n      ")],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.addEditDialog,callback:function(e){t.addEditDialog=e},expression:"addEditDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),i("v-card-text",[i("v-list",[t._l(t.errors,function(e){return[i("v-list-tile",{key:e[0]+Math.random()},[i("v-list-tile-content",[i("v-list-tile-title",{staticClass:"text-xs-center"},t._l(e,function(e){return i("span",{key:e+Math.random(),staticClass:"red--text"},[t._v("\n                          "+t._s(e)+" "),i("v-icon",{attrs:{color:"red"}},[t._v("error")])],1)}))],1)],1)]})],2)],1),t._v(" "),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",[i("v-text-field",{attrs:{label:" عنوان الصفحة بالعربية"},model:{value:t.pageItem.title_ar,callback:function(e){t.$set(t.pageItem,"title_ar",e)},expression:"pageItem.title_ar"}}),t._v(" "),i("v-text-field",{attrs:{label:"عنوان الصفحة بالانجليزية"},model:{value:t.pageItem.title_en,callback:function(e){t.$set(t.pageItem,"title_en",e)},expression:"pageItem.title_en"}}),t._v(" "),i("v-text-field",{attrs:{label:"وصف الصفحة بالعربية","multi-line":""},model:{value:t.pageItem.description_ar,callback:function(e){t.$set(t.pageItem,"description_ar",e)},expression:"pageItem.description_ar"}}),t._v(" "),i("v-text-field",{attrs:{label:"وصف الصفحة بالانجليزية","multi-line":""},model:{value:t.pageItem.description_en,callback:function(e){t.$set(t.pageItem,"description_en",e)},expression:"pageItem.description_en"}})],1)],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{staticClass:"ma-2",attrs:{color:"",small:""},nativeOn:{click:function(e){return t.closeAddEditDialog(e)}}},[t._v("الغاء")]),t._v(" "),i("v-btn",{staticClass:"ma-2",attrs:{color:"primary",dark:"",small:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("حفظ")])],1)],1)],1)],1),t._v(" "),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.requests,"total-items":t.totalRequests,loading:t.loading,"item-key":"product_id",search:t.search,"hide-actions":"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return t.requests?[e.item.title_ar?i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.title_ar))]):i("td",{staticClass:"text-xs-right"},[t._v("لا يوجد اسم")]),t._v(" "),e.item.title_en?i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.title_en))]):i("td",{staticClass:"text-xs-right"},[t._v("لا يوجد اسم")]),t._v(" "),null!=e.item.description_ar?i("td",[i("read-more",{attrs:{"more-str":"read more",text:e.item.description_ar,link:"#","less-str":"read less","max-chars":100}})],1):t._e(),t._v(" "),null!=e.item.description_en?i("td",[i("read-more",{attrs:{"more-str":"read more",text:e.item.description_en,link:"#","less-str":"read less","max-chars":100}})],1):t._e(),t._v(" "),i("td",{staticClass:"justify-right layout px-0"},[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:"",loading:t.approve,flat:"",color:"blue"},on:{click:function(i){t.editing(e.item)}},slot:"activator"},[i("v-icon",{staticClass:"mr-2 blue--text"},[t._v("\n                  edit\n              ")])],1),t._v(" "),i("span",[t._v("تعديل الصفحة")])],1),t._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:"",flat:"",color:"red"},on:{click:function(i){t.deleteItem(e.item)}},slot:"activator"},[i("v-icon",{staticClass:"red--text"},[t._v("\n                  delete\n              ")])],1),t._v(" "),i("span",[t._v("مسح الإعلان")])],1)],1)]:void 0}},{key:"pageText",fn:function(e){return[t._v("\n        الصفحات "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" من "+t._s(e.itemsLength)+"\n      ")]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[i("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          لا يوجد نتائج للبحث "'+t._s(t.search)+'"\n      ')]),t._v(" "),i("template",{slot:"no-data"},[i("v-alert",{attrs:{value:!0,color:"success",icon:"warning",outline:""}},[t._v("\n          لا يوجد تسجيلات\n        ")])],1)],2),t._v(" "),i("div",{staticClass:"text-xs-center pt-2"},[i("v-pagination",{attrs:{"total-visible":"6",color:"primary",length:t.pages},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1),t._v(" "),t.media.length?i("v-dialog",{staticStyle:{"max-height":"400px"},attrs:{width:"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-carousel",{attrs:{circle:!1,interval:"600000"}},t._l(t.media,function(e){return i("v-carousel-item",{key:e.id,attrs:{color:"primary"}},[e.image?i("img",{staticStyle:{margin:"0 auto",width:"100%",height:"100%"},attrs:{src:t.$root.$data.baseURL+e.image,alt:"",srcset:""}}):t._e(),t._v(" "),e.vedio?i("img",{staticStyle:{margin:"0 auto",width:"100%",height:"100%"},attrs:{src:t.$root.$data.baseURL+e.vedio,alt:"",srcset:""}}):t._e(),t._v(" "),i("video",{attrs:{width:"600",height:"80%",controls:""}},[i("source",{attrs:{src:t.$root.$data.baseURL+e.vedio,type:"video/mp4"}}),t._v(" "),i("source",{attrs:{src:t.$root.$data.baseURL+e.vedio,type:"video/ogg"}}),t._v("\n            Your browser does not support the video tag.\n            ")])])}))],1)],1):t._e()],1)},staticRenderFns:[]};var g={components:{PagesTable:i("VU/8")(u,p,!1,function(t){i("bk/q")},"data-v-b4bc71d2",null).exports}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("pages-table",{attrs:{title:"الصفحات",icon:"people"}})],1)},staticRenderFns:[]};var v=i("VU/8")(g,m,!1,function(t){i("kd6u")},null,null);e.default=v.exports}});